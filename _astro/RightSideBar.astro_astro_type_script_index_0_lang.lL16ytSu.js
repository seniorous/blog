import{s as p}from"./config.Rdkpnirw.js";const d={profile:"../components/widget/Profile.astro",announcement:"../components/widget/Announcement.astro",categories:"../components/widget/Categories.astro",tags:"../components/widget/Tags.astro",toc:"../components/widget/TOC.astro","music-player":"../components/widget/MusicPlayer.svelte",pio:"../components/widget/Pio.astro","site-stats":"../components/widget/SiteStats.astro",calendar:"../components/widget/Calendar.astro",custom:null};class f{config;constructor(e=p){this.config=e}getConfig(){return this.config}getComponentsByPosition(e,t="left",n="desktop"){let i=t;if(n==="mobile")i="drawer";else if(n==="tablet"){if(t==="right")return[];t==="left"&&(i=this.config.components.left.length>0?"left":"right")}return(this.config.components[i]||[]).map(r=>{const o=this.config.properties.find(c=>c.type===r);return o&&o.position===e?o:!o&&e==="top"?{type:r,position:"top"}:null}).filter(Boolean)}getAnimationDelay(e,t){return e.animationDelay!==void 0?e.animationDelay:this.config.defaultAnimation.enable?this.config.defaultAnimation.baseDelay+t*this.config.defaultAnimation.increment:0}getComponentClass(e,t){const n=[];return e.class&&n.push(e.class),e.responsive?.hidden&&e.responsive.hidden.forEach(i=>{switch(i){case"mobile":n.push("hidden","md:block");break;case"tablet":n.push("md:hidden","lg:block");break;case"desktop":n.push("lg:hidden");break}}),n.join(" ")}getComponentStyle(e,t){const n=[];e.style&&n.push(e.style);const i=this.getAnimationDelay(e,t);return i>0&&n.push(`animation-delay: ${i}ms`),n.join("; ")}isCollapsed(e,t){return e.responsive?.collapseThreshold?t>=e.responsive.collapseThreshold:!1}getComponentPath(e){return d[e]}shouldShowSidebar(e){return e==="mobile"?this.config.components.drawer.length>0:e==="tablet"?this.config.components.left.length>0||this.config.components.right.length>0:this.config.components.left.length>0||this.config.components.right.length>0}getBreakpoints(){return this.config.responsive.breakpoints}updateConfig(e){this.config={...this.config,...e}}addComponentToLayout(e,t="left"){this.config.components[t].includes(e)||this.config.components[t].push(e)}removeComponentFromLayout(e){this.config.components.left=this.config.components.left.filter(t=>t!==e),this.config.components.right=this.config.components.right.filter(t=>t!==e),this.config.components.drawer=this.config.components.drawer.filter(t=>t!==e)}isSidebarComponent(e){return e!=="pio"}}const a=new f;class g{constructor(){this.init()}init(){this.updateResponsiveDisplay(),window.addEventListener("resize",()=>this.updateResponsiveDisplay()),typeof window<"u"&&window.swup&&window.swup.hooks.on("content:replace",()=>{setTimeout(()=>{this.updateResponsiveDisplay()},100)})}updateResponsiveDisplay(){const e=a.getBreakpoints(),t=window.innerWidth;let n;t<e.mobile?n="mobile":t<e.tablet?n="tablet":n="desktop";const i=a.shouldShowSidebar(n),s=document.getElementById("right-sidebar");s&&s.style.setProperty(`--sidebar-${n}-display`,i?"block":"none")}}new g;
